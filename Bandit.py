import numpy as np

class Bandits:
    def __init__(self, N:int) -> None:
        self.rewardDistributions = np.random.rand(N)
        self.rewardChance = self.pickupRate()
        self.sum_reward_history = []
        
    def _get_reward(self, ind:int, result:float) -> bool:
        if result >= self.rewardDistributions[ind]:
            return True
        else:
            return False
        
    def play_bandit(self, ind:int) -> int:
        result = np.random.rand()
        outcome = self._get_reward(ind=ind, result=result)
        return outcome
    
    def pickupRate(self)->list[float]:
        rewardChance = []
        for i in self.rewardDistributions:
            rewardChance.append(1.0-i)
        return rewardChance
        
    def debug(self)->None:
        print("Raward's distibution(reward = 0 when < distribution) : ", self.rewardDistributions)
        print("Raward's chance : ", self.rewardChance)
        
        
